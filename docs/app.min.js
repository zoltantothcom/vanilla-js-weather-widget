!function e(t,r,n){function i(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=r[a]={exports:{}};t[a][0].call(h.exports,function(e){var r=t[a][1][e];return i(r||e)},h,h.exports,e,t,r,n)}return r[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n,i=e("./weather");new((n=i)&&n.__esModule?n:{default:n}).default},{"./weather":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var i="https://dataservice.accuweather.com",o="Anwu0N8FAUGXlEUzxvWeEwx9eJ3OAAGS",a="Unfortunately an API error occured.",s=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],u=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.querySelector(".weather"),this.location=null,this.locations={},this.input=this.element.querySelector(".weather__input"),this.element.querySelector(".weather__form").addEventListener("submit",function(e){e.preventDefault(),t.city="Toronto",t.getCurrentWeather()},!1),localStorage.setItem("WEATHER_LOCATIONS",JSON.stringify(this.locations)),this.getCurrentWeather=this.getCurrentWeather.bind(this),this.getHourlyForecast=this.getHourlyForecast.bind(this),this.displayMessage=this.displayMessage.bind(this),this.showCurrentConditions=this.showCurrentConditions.bind(this),this.getCachedLocations=this.getCachedLocations.bind(this),this.getCityId=this.getCityId.bind(this),this.getCityWeather=this.getCityWeather.bind(this)}return n(e,[{key:"getCurrentWeather",value:function(){var e=this,t=this.getCachedLocations();t[this.city.toLowerCase()]?this.getCityWeather(t[this.city.toLowerCase()]):this.getCityId().then(function(t){e.getCityWeather(t[0].Key)})}},{key:"getCityId",value:function(){return fetch(i+"/locations/v1/cities/search?apikey="+o+"&q="+this.city).then(function(e){return e.json()}).catch(function(e){console.log("Error: "+e),this.displayMessage(a,"error")})}},{key:"getCityWeather",value:function(e){var t=this;return this.location=e,this.locations[this.city.toLowerCase()]=this.location,localStorage.setItem("WEATHER_LOCATIONS",JSON.stringify(this.locations)),fetch(i+"/currentconditions/v1/"+this.location+"?apikey="+o+"&details=true").then(function(e){return e.json()}).then(function(e){t.showCurrentConditions(e),t.element.querySelector(".weather__get-hourly").classList.remove("weather__get-hourly--hidden"),t.element.querySelector(".weather__location").innerText="Weather in "+t.city,t.element.querySelector(".weather__get-hourly").addEventListener("click",function(e){t.getHourlyForecast()},!1)}).catch(function(e){console.log("Error: "+e),this.displayMessage(a,"error")})}},{key:"getCachedLocations",value:function(){var e=localStorage.getItem("WEATHER_LOCATIONS");return JSON.parse(e)}},{key:"getHourlyForecast",value:function(){var e=this;fetch(i+"/forecasts/v1/hourly/12hour/"+this.location+"?apikey="+o+"&metric=true").then(function(e){return e.json()}).then(function(t){console.log(t),e.displayHourlyForecast(t)}).catch(function(e){console.log(e),this.displayMessage(a,"error")})}},{key:"displayHourlyForecast",value:function(e){e&&0!==e.length||this.displayMessage("No hourly data available.","info");for(var t=document.createElement("ul"),r=0;r<e.length;r++){var n=document.createElement("li"),i=e[r].WeatherIcon<10?"0"+e[r].WeatherIcon:e[r].WeatherIcon;n.innerHTML=this.formatDateTimeHourly(e[r].DateTime)+" : ",n.innerHTML+='<img src="img/'+i+'-s.png" alt="'+e[r].IconPhrase+'" />',n.innerHTML+=e[r].IconPhrase+" : ",n.innerHTML+=""+Math.round(e[r].Temperature.Value),n.innerHTML+=" &deg;"+e[r].Temperature.Unit,t.appendChild(n)}this.element.querySelector(".weather__hourly").appendChild(t)}},{key:"formatDateTimeHourly",value:function(e){var t=new Date(e),r=t.getHours(),n="AM";return r>=12&&(n="PM"),r>12&&(r-=12),0===r&&(r=12),s[t.getDay()]+" "+r+n}},{key:"showCurrentConditions",value:function(e){var t=this.element.querySelector(".weather__temperature"),r=(this.element.querySelector(".weather__details"),e[0]);console.log(e),t.innerHTML=Math.round(r.Temperature.Metric.Value)+" &deg;"+r.Temperature.Metric.Unit}},{key:"displayMessage",value:function(e,t){var r=document.createElement("div");r.innerText=e,r.classList.add("weather-"+t),document.querySelector(".weather__form").prepend(r)}}]),e}();r.default=u},{}]},{},[1]);