!function e(t,r,n){function o(a,s){if(!r[a]){if(!t[a]){var u="function"==typeof require&&require;if(!s&&u)return u(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return o(r||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var i="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({1:[function(e,t,r){"use strict";var n,o=e("./weather");new((n=o)&&n.__esModule?n:{default:n}).default},{"./weather":2}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o="https://dataservice.accuweather.com",i="Anwu0N8FAUGXlEUzxvWeEwx9eJ3OAAGS",a="Unfortunately an API error occured.",s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.element=document.querySelector(".weather"),this.location=null,this.locations={},this.input=this.element.querySelector(".weather__input"),this.element.querySelector(".weather__form").addEventListener("submit",function(e){e.preventDefault(),t.getCurrentWeather("Toronto")},!1),localStorage.setItem("WEATHER_LOCATIONS",JSON.stringify(this.locations)),this.getCurrentWeather=this.getCurrentWeather.bind(this),this.getHourlyForecast=this.getHourlyForecast.bind(this),this.displayMessage=this.displayMessage.bind(this),this.showCurrentConditions=this.showCurrentConditions.bind(this),this.getCachedLocations=this.getCachedLocations.bind(this)}return n(e,[{key:"getCurrentWeather",value:function(e){var t=this;this.getCachedLocations()[e]&&console.log("cached woeid found"),fetch(o+"/locations/v1/cities/search?apikey="+i+"&q="+e).then(function(e){return e.json()}).then(function(r){return t.location=r[0].Key,t.locations[e]=t.location,localStorage.setItem("WEATHER_LOCATIONS",JSON.stringify(t.locations)),fetch(o+"/currentconditions/v1/"+t.location+"?apikey="+i+"&details=true")}).then(function(e){return e.json()}).then(function(r){t.showCurrentConditions(r),t.element.querySelector(".weather__get-hourly").classList.remove("weather__get-hourly--hidden"),t.element.querySelector(".weather__location").innerText="Weather in "+e}).catch(function(e){console.log(e),this.displayMessage(a,"error")})}},{key:"getCachedLocations",value:function(){var e=localStorage.getItem("WEATHER_LOCATIONS");return JSON.parse(e)}},{key:"getHourlyForecast",value:function(){fetch(o+"/forecasts/v1/hourly/12hour/"+this.location+"?apikey="+i+"&metric=true").then(function(e){return e.json()}).then(function(e){console.log(e)}).catch(function(e){console.log(e),this.displayMessage(a,"error")})}},{key:"showCurrentConditions",value:function(e){var t=this.element.querySelector(".weather__temperature"),r=(this.element.querySelector(".weather__details"),e[0]);console.log(e),t.innerHTML=Math.round(r.Temperature.Metric.Value)+" &deg;"+r.Temperature.Metric.Unit}},{key:"displayMessage",value:function(e,t){var r=document.createElement("div");r.innerText=e,r.classList.add("weather-"+t),document.querySelector(".weather__form").prepend(r)}}]),e}();r.default=s},{}]},{},[1]);